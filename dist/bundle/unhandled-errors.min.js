var UnhandledErrors=function(e){"use strict"
;var n=function(){
return n=Object.assign||function(e){
for(var n,r=1,t=arguments.length;r<t;r++)for(var o in n=arguments[r])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])
;return e},n.apply(this,arguments)}
;function r(e,n){
var r="function"==typeof Symbol&&e[Symbol.iterator]
;if(!r)return e;var t,o,i=r.call(e),a=[];try{
for(;(void 0===n||n-- >0)&&!(t=i.next()).done;)a.push(t.value)
}catch(e){o={error:e}}finally{try{
t&&!t.done&&(r=i.return)&&r.call(i)}finally{
if(o)throw o.error}}return a}function t(e,n,r){
if(r||2===arguments.length)for(var t,o=0,i=n.length;o<i;o++)!t&&o in n||(t||(t=Array.prototype.slice.call(n,0,o)),
t[o]=n[o])
;return e.concat(t||Array.prototype.slice.call(n))
}var o=function(){
if("undefined"!=typeof window)return window
;if("undefined"!=typeof self)return self
;if("undefined"!=typeof global)return global
;throw new Error("globalScope is not found")
}(),i="object"==typeof process&&process+""=="[object process]",a=Promise,c=function(e){
if(!(this instanceof c))throw new TypeError("Cannot call a class as a function")
;var n=new a((function(r,t){
return e(r,(function(e){
a.resolve().then((function(){
n._hasDownstreams||function(e,n){var r
;"undefined"!=typeof document&&document.createEvent?(r=document.createEvent("Event"),
Object.defineProperties(r,{promise:{value:e,
writable:!1},reason:{value:n,writable:!1}
}),r.initEvent("unhandledrejection",!1,!0)):(r=new Event("unhandledrejection",{
bubbles:!1,cancelable:!0
}),Object.defineProperties(r,{promise:{value:e,
writable:!1},reason:{value:n,writable:!1}}))
;o.dispatchEvent(r)}(n,e)})),t(e)}))}))
;return n.__proto__=c.prototype,n}
;c.__proto__=a,c.prototype.__proto__=a.prototype,
c.prototype.then=function(e,n){
var r=a.prototype.then.call(this,e,n)
;return this._hasDownstreams=!0,r}
;var u="function"!=typeof o.PromiseRejectionEvent&&"function"==typeof o.dispatchEvent&&!i
;function l(e){return e.map((function(e){
return"undefined"!=typeof PromiseRejectionEvent&&e instanceof PromiseRejectionEvent?e.reason||e:"undefined"!=typeof Event&&"undefined"!=typeof Element&&e instanceof Event&&e.target instanceof Element&&"src"in e.target?"Error load: ".concat(e.target.src,"\r\n").concat(e.target.outerHTML):e.reason||e
}))}function f(e){var n=!1;function f(o){
return function(){
for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a]
;n||(n=!0,setTimeout((function(){n=!1
})),e.apply(void 0,t([o],r(l(i)),!1)))}}
var s=f("process.unhandledRejection"),v=f("process.uncaughtException"),d=f("unhandledrejection"),p=f("unhandled error")
;return u&&(o.Promise=c),
i&&process.on&&process.on("unhandledRejection",s).on("uncaughtException",v),
o.addEventListener&&(o.addEventListener("unhandledrejection",d),
o.onunhandledrejection=d,
o.addEventListener("error",p,!0),o.onerror=p),function(){
u&&(o.Promise=a),i&&process.off&&process.off("unhandledRejection",s).off("uncaughtException",v),
o.removeEventListener&&(o.removeEventListener("unhandledrejection",d),
o.onunhandledrejection=null,
o.removeEventListener("error",p,!0),o.onerror=null)
}}
var s=Object.freeze(["debug","info","log","warn","error"]),v={
debug:o.console.debug.bind(o.console),
info:o.console.info.bind(o.console),
log:o.console.log.bind(o.console),
warn:o.console.warn.bind(o.console),
error:o.console.error.bind(o.console)}
;function d(e,n){n||(n=s);for(var r=function(r,t){
var i=n[r],a=v[i],c=e(i,a)
;if("function"!=typeof c&&c)return"continue"
;if(c){o.console[i]=function(){
c.apply(o.console,arguments)||a.apply(o.console,arguments)
}}},t=0,i=n.length;t<i;t++)r(t);return function(){
for(var e=0,r=n.length;e<r;e++){var t=n[e]
;o.console[t]=v[t]}}}var p=o.eval.bind(o.eval)
;function h(e){
return delete o.eval,o.eval=function(n){
return e(n,p)},function(){delete o.eval,o.eval=p}}
function y(e,n){return h((function(r,t){try{
return t.call(o,r)}catch(t){
throw n&&!n(r)||e("eval error",t,r),t}}))}
function g(e){
return!("undefined"!=typeof EventTarget&&e instanceof EventTarget)||"undefined"!=typeof EventSource&&e instanceof EventSource
}function m(e){for(var n=[],r=function(e){var n=[]
;function r(e){e&&!n.includes(e)&&n.push(e)}
function t(e){
if(Array.isArray(e))for(var n=0,t=e.length;n<t;n++)r(e[n]);else r(e)
}
if(t(e.target||e.srcElement),t(e.currentTarget),t(e.path),"function"==typeof e.composedPath)try{
t(e.composedPath())}catch(e){}return n
}(e),t=0,o=r.length;t<o;t++){var i=r[t],a=0,c={}
;i.error&&(c.error=i.error,a++),
i.reason&&(c.reason=i.reason,a++),i.readyState&&(c.readyState=i.readyState,
a++),
i.status&&(c.status=i.status,a++),(i.src||i.currentSrc)&&(c.src=i.src||i.currentSrc,
a++),a>0&&n.push(c)}return n}var E=1,b=new WeakMap
;function w(e){var n=b.get(e)
;return null==n&&(n=E++,b.set(e,n)),n}
function S(e,r){
var t=void 0===r?{}:r,o=t.maxLevel,i=void 0===o?15:o,a=t.maxValueSize,c=void 0===a?5e3:a,u=t.maxFuncSize,l=void 0===u?100:u,f=t.maxProperties,s=void 0===f?50:f,v=t.maxListSize,d=void 0===v?10:v,p=t.maxResultSize,h=void 0===p?5e4:p,y=t.filter,E=void 0===y?g:y
;if(null==e)return e+""
;var b=[],S=0,j=new String("Overflow")
;function _(e,n){var r=Math.min(e.length,c,h-S)
;if(null!=n&&r>n&&(r=n),e.length>r&&(e=e.substring(0,r)+"..."),
b.push(e),(S+=e.length)>=h)throw b.push("..."),
S+=3,j}var L=new Set,A=function(e,r,t){
if(void 0===t&&(t=0),void 0!==e)if(null!==e)if("number"!=typeof e&&"boolean"!=typeof e){
if("string"==typeof e)return _('"'),
_(e),void _('"')
;if(e instanceof Date)return _("<Date> "),void _(Number.isNaN(e.getTime())?"NaN":e.toISOString())
;if("undefined"!=typeof Element&&e instanceof Element){
_("<"),_(e.constructor.name),
_("> "),_("<"),_(e.tagName.toLowerCase())
;for(var o=e.getAttributeNames(),a=0,c=o.length;a<c;a++){
var u=o[a],f=e.getAttribute(u)
;_(" "),_(u),_('="'),_(f),_('"')}
}else if(e instanceof Error&&(e=n({
constructor:e.constructor,message:e.message,
stack:e.stack||e.toString()
},e)),"object"!=typeof e)"function"==typeof e?_(e.toString(),l):_(e.toString());else{
if(e.valueOf&&(f=e.valueOf())!==e){
if(e.constructor)_("<"),_(e.constructor.name),
(h=w(e))&&(_("-"),_(h.toString())),_("> ")
;return void A(f,r,t)}if(t>=i)return void _("...")
;if(t++,!E(e))return _("<"),_(e.constructor.name),
void _("> {...}");var v=s,p=d
;if(L.has(e)?(v=0,p=0):L.add(e),Array.isArray(e))_("["),
v=p;else if(e.constructor){var h
;_("<"),_(e.constructor.name),(h=w(e))&&(_("-"),
_(h.toString())),_("> {")}else _("{")
;var y=r+"\t",g=0
;if("function"==typeof Event&&e instanceof Event){
var b=m(e)
;_(0===g?"\r\n":",\r\n"),_(y),_("_errors"),_(": "),A(b,y,t),g++
}
if(g>=v)_("..."),g>0&&_("\r\n");else for(var S in e){
if(_(0===g?"\r\n":",\r\n"),g>=v){_(y),_("...\r\n")
;break}
_(y),_(""===S?'""':S),_(": "),A(e[S],y,t),g++}
if(g>0&&(_(",\r\n"),_(r)),Array.isArray(e)?_("]"):_("}"),
!Array.isArray(e)&&Symbol.iterator in e){
if(_("["),(g=0)>=p)_("...");else try{
for(var j=e[Symbol.iterator],O=void 0;!(O=j()).done;){
var P=O.value
;if(_(g>0?",\r\n":"\r\n"),_(r),_(g.toString()),_(": "),A(P,y,t),++g>=p){
_(y),_("...");break}}}catch(e){
_("<iterate error>: "+e.message)}
g>0&&(_(",\r\n"),_(r)),_("]")}}
}else _(e.toString());else _("null");else _("undefined")
};try{A(e,"",null)}catch(e){if(e!==j)throw e}
return b.join("")}
return e.CONSOLE_LEVELS=s,e.catchEvalErrors=y,e.catchUnhandledErrors=f,
e.consoleOrig=v,
e.interceptConsole=d,e.interceptEval=h,e.subscribeUnhandledErrors=function(e){
var n=void 0===e?{}:e,i=n.catchUnhandled,a=void 0===i||i,c=n.catchEval,u=void 0===c||c,l=n.catchConsoleLevels,s=void 0===l?["error"]:l,p=n.filterEval,h=void 0===p?null:p,g=n.alert,m=void 0!==g&&g,E=n.maxLogLength,b=void 0===E?2048:E,w=n.customLog,j=[]
;function _(){
for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n]
;var r=e.map((function(e){return S(e)
})).join("\n")
;b&&r.length>b&&(r=r.substring(0,b-3)+"..."),w&&w(r)||(m&&o.alert&&o.alert(r),
v.error(r))}return a&&j.push(f((function(){
for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n]
;"function"==typeof a&&a.apply(void 0,t([],r(e),!1))||a&&_.apply(void 0,t([],r(e),!1))
}))),s&&s.length>0&&j.push(d((function(e,n){var o
;if("function"==typeof s){
if("function"!=typeof(o=s(e,n))&&o)return o
}else if(Array.isArray(s)&&!s.includes(e))return null
;return function(){
for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n]
;o&&o.apply(void 0,t([],r(e),!1))||s&&_.apply(void 0,t(["console error"],r(e),!1))
}}))),u&&j.push(y((function(){
for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n]
;"function"==typeof u&&u.apply(void 0,t([],r(e),!1))||u&&_.apply(void 0,t([],r(e),!1))
}),h)),function(){
for(var e=0,n=j.length;e<n;e++)j[e]()}
},Object.defineProperty(e,"__esModule",{value:!0
}),e}({});
